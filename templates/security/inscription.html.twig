<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Inscription{% endblock %}</title>
        <link rel="stylesheet" href="https://bootswatch.com/4/minty/bootstrap.min.css">
        <script src="https://bootswatch.com/_vendor/jquery/dist/jquery.min.js"></script>
        <script src="https://bootswatch.com/_vendor/bootstrap/dist/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
        <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
        {% block stylesheets %}{% endblock %}
    </head>

    {% block body %}
        <script>
        $(document).ready( function() {
            $("#connexion").click(function() {
	            $("#formChange").load("/connexion")
            });
	    });

        function ChargerPageConnexion() {
            history.pushState({ path: this.path}, '', '/connexion');
        }
        </script>
        {% if app.user %}
            <script>window.location.href="{{ path('espace') }}";</script>
        {% else %}
            <div id="formChange">
                <div style="margin-top:10%;">
                    <div class="container">
                        <ul class="nav nav-tabs col-sm-5 m-auto">
                            <img src="/images/logo.png" alt="logo">
                            <li class="nav-item">
                                <button class="nav-link" id="connexion" onclick="ChargerPageConnexion()">Connexion</button>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link active" href="#">Inscription</a>
                            </li>
                        </ul>
                        <div id="myTabContent" class="tab-content">
                            <div class="col-sm-5 m-auto form-group tab-pane fade active show">
                                {% form_theme formInscription 'bootstrap_4_layout.html.twig' %}
                                <fieldset>
                                    <legend>Inscription sur FoodRating !</legend>
                                    {{ form_start(formInscription) }}
                    
                                    {{ form_row(formInscription.username, {'label': "Pseudo", 'attr': {'placeholder': "Entrez votre pseudo"}}) }}
                                    {{ form_row(formInscription.email, {'label': "Email", 'attr': {'placeholder': "Entrez votre email"}}) }}
                                    {{ form_row(formInscription.password, {'label': "Mot de passe", 'attr': {'placeholder': "Entrez votre mot de passe"}}) }}
                                    {{ form_row(formInscription.password_confirmation, {'label': "Confirmation du mot de passe", 'attr': {'placeholder': "Retapez votre mot de passe"}}) }}

                                    <div class="form-group">
                                        <button type="submit" class="btn btn-success" data-toggle="modal" data-target="#myModal" >S'inscrire <i class="fa fa-user-plus"></i></button>
                                        <a href="/" class="btn btn-info">Retour <i class="fa fa-arrow-left"></i></a>
                                    </div>
                                    <div class="modal" id="myModal">
                                        <div class="modal-dialog" role="document">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title">Confirmation d'Inscription</h5>
                                                </div>
                                                <div class="modal-body">
                                                    <p>Etes-vous sûr de vouloir vous inscrire avec ces coordonnées ?</p>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="submit" class="btn btn-primary">Oui <i class="fa fa-check"></i></button>
                                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Non <i class="fa fa-times"></i></button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    {{ form_end(formInscription) }}
                                </fieldset>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        {% endif %}
    {% endblock %}
</html>